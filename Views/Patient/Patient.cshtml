@model PatientViewModel
@{
    ViewData["Title"] = "Patient";
}

@section Scripts{
    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js"></script>
}


<h1 class="text-center">Pacijenti</h1>

<div class="col-md-10 offset-md-1">
    <div class="card card-body bg-light">
        <form id="searchForm" method="post">
            <div>
                <div>
                <label asp-for="SearchIdPatient" id="searchLabel">ID pacijenta:  </label>
                <input asp-for="SearchIdPatient" min="1" id="institutionName" value=@Model.SearchIdPatient />
                <br>
                <label asp-for="SearchIdInstitution" id="searchLabel">ID institucije: </label>
                <input asp-for="SearchIdInstitution" min="1" id="institutionName" value=@Model.SearchIdInstitution />
                </div>
                <button type="submit" name="submit" value="searchForm" id="btnGetInstitution">Ucitaj pacijenta</button>
            </div>
            <div class="text-error">@ViewBag.CantFind</div>
        </form>
        <form id="addPatientForm" method="post">
            <div asp-validation-summary="ModelOnly"> </div>
            <ul class="tabs">
                <li data-tab-target="#base" class="active tab">Opsti podaci</li>
                <li data-tab-target="#contact" class="tab">Kontakt podaci</li>
                <li data-tab-target="#functional" class="tab">Funkcionalna procena</li>
                <li data-tab-target="#lab" class="tab">Laboratorijske analize</li>
                <li data-tab-target="#diagnostyc" class="tab">Dijagnosticke procedure</li>
                <li data-tab-target="#agniograpgy" class="tab">Pulmonalna angiografija</li>
                <li data-tab-target="#stratification" class="tab">Stratifikacija</li>
                <li data-tab-target="#theraphy" class="tab">Terapija</li>
            </ul>

            <div class="tab-content">
                <div id="base" data-tab-content class="active">
                    <div class="form-group">
                        <label asp-for="Id" min="1">Id</label>
                        <input asp-for="Id" min="1" class="form-control" />
                        <span asp-validation-for="Id" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="FirstName">Ime</label>
                        <input asp-for="FirstName" , type="password" class="form-control" />
                        <span asp-validation-for="FirstName" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="LastName">Prezime</label>
                        <input asp-for="LastName" , type="password" class="form-control" />
                        <span asp-validation-for="LastName" class="text-danger"></span>
                    </div>
                </div>
                <div id="contact" data-tab-content>
                    <div class="form-group">
                        <label asp-for="Address">Adresa</label>
                        <input asp-for="Address" class="form-control" />
                        <span asp-validation-for="Address" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Telephone">Telefon</label>
                        <input asp-for="Telephone" type="tel" class="form-control" />
                        <span asp-validation-for="Telephone" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Mobile">Mobilni</label>
                        <input asp-for="Mobile" class="form-control" />
                        <span asp-validation-for="Mobile" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Email">Email</label>
                        <input asp-for="Email" , type="email" class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                </div>
                <div id="functional" data-tab-content>
                    <div class="form-group">
                        <label asp-for="WHO">WHO</label>
                        <select asp-for="WHO" id="who" class="form-control">
                            @foreach (var wh in @Model.EnumWHO)
                            {
                                <option value=@wh>@wh</option>
                            }
                        </select>
                        <span asp-validation-for="WHO" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="NtProBNP">NT-proBNP (pg/ml)</label>
                        <input asp-for="NtProBNP" , type="number" min="0" class="form-control" />
                        <span asp-validation-for="NtProBNP" class="text-danger"></span>
                    </div>
                </div>
                <div id="lab" data-tab-content>
                    <div class="form-group">
                        <label asp-for="Hgb">Hgb (g/l)</label>
                        <input asp-for="Hgb" , type="number" min="0" class="form-control" />
                        <span asp-validation-for="Hgb" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label asp-for="Hct">Hct (g/l)</label>
                        <input asp-for="Hct" , type="number" min="0" class="form-control" />
                        <span asp-validation-for="Hct" class="text-danger"></span>
                    </div>
                </div>
                <div id="diagnostyc" data-tab-content>
                    <div class="form-group">
                        <label asp-for="EKG">EKG</label>
                        <select asp-for="EKG" id="ekg" class="form-control">
                            @foreach (var eg in @Model.EnumEKG)
                            {
                                <option value=@eg>@eg</option>
                            }
                        </select>
                        <span asp-validation-for="EKG" class="text-danger"></span>
                    </div>
                </div>
                <div id="agniograpgy" data-tab-content>
                    <div class="container">
                        <div>
                            <img id="slika" src="~/img/lung.jpg" width="648" height="519" />
                        </div>
                        <div class="text-block">
                            <span class="tooltiptext">Tooltip text</span>
                            <select id="lezije">
                                <option value="None">None</option>
                                <option value="Ring-like">Ring-like</option>
                                <option value="Web-like">Web-like</option>
                                <option value="Subtotalna okluziona">Subtotalna okluziona</option>
                                <option value="Totalna okluziona">Totalna okluziona</option>
                                <option value="Tortuozna">Tortuozna</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div id="stratification" data-tab-content>
                    <div class="container">
                        <div class="form-group">
                            <label asp-for="Risk">Rizik od jednogodisnjeg mortaliteta</label>
                            <select asp-for="Risk" id="risk" class="form-control">
                                @foreach (var risk in @Model.EnumRisk)
                                {
                                    <option value=@risk>@risk</option>
                                }
                            </select>
                            <span asp-validation-for="Risk" class="text-danger"></span>
                        </div>
                        <div>
                            <img src="~/img/stratification.jpg" style="width:100%;" />
                        </div>
                    </div>
                </div>
                <div id="theraphy" data-tab-content>
                    <div class="container">
                        
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button type="submit" name="submit" value="Save">Sacuvaj pacijenta</button>
                @if (@ViewBag.Enable == "Enabled")
                {
                    <button type="submit" name="submit" value="Update" id="updatePatient">Izmeni pacijenta</button>
                    <button type="submit" name="submit" value="Delete" id="deletePatient">Obrisi pacijenta</button>
                }
                <div class="text">@ViewBag.UserMessage</div>
            </div>
        </form>
    </div>
</div>

